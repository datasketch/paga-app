palette_colors = c("#ff7f00", "#fdd60e"),
legend_show = FALSE)
compromisos <- read_rds("all_data.rds")
View(compromisos)
compromisos <- compromisos %>% drop_na(estado)
compromisos <- compromisos %>% drop_na(estado_contraparte)
compromisos <- read_rds("all_data.rds")
compromisos <- compromisos %>% drop_na(estado_contraparte)
entidades <- read_csv("data/formulario-entidades-Grid view.csv")
entidades <- entidades %>% drop_na(`Entidad responsable de registrar el avance`)
entidades <- Filter(function(x) !all(is.na(x)), entidades)
dic_entidades <- data_frame(label_original = names(entidades))
dic_entidades <- dic_entidades %>% left_join(dic_all)
names(entidades) <- dic_entidades %>% .$id
entidades$avance <- as.numeric(gsub("%", "", entidades$avance))
compromisos <- entidades
compromisos$avance[is.na(compromisos$avance)] <- 0
df_1 <- data.frame(name = "Porcentaje total de cumplimiento del Plan",b = "aaa jas", porcentaje = mean(compromisos$avance, na.rm = TRUE))
df_2 <- data.frame(name = "Porcentaje que falta para el cumplimiento total del Plan",b = "aaa jas",  porcentaje =  100 - mean(compromisos$avance, na.rm = TRUE))
df <- df_1 %>% bind_rows(df_2)
df$name <- as.character(df$name)
df$b <- as.character(df$b)
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
legend_show = FALSE)
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "red",
legend_show = FALSE)
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE)
h1 <- hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE)
df_c <- compromisos %>% group_by(compromiso) %>% summarise(promedio = mean(avance, na.rm = TRUE))
View(df_c)
compromisos <- read_rds("all_data.rds")
compromisos <- compromisos %>% drop_na(entidad)
View(compromisos)
compromisos <- read_rds("all_data.rds")
View(compromisos)
compromisos <- read_csv("data/información-general-compromisos-Grid view.csv")[-1]
View(compromisos)
compromisos <- read_rds("all_data.rds")
View(compromisos)
library(tidyverse)
dic_all <- read_csv("data/dic-Grid view.csv")[,-4]
# Entidades ---------------------------------------------------------------
entidades <- read_csv("data/formulario-entidades-Grid view.csv")
entidades <- entidades %>% drop_na(`Entidad responsable de registrar el avance`)
entidades <- Filter(function(x) !all(is.na(x)), entidades)
dic_entidades <- data_frame(label_original = names(entidades))
dic_entidades <- dic_entidades %>% left_join(dic_all)
names(entidades) <- dic_entidades %>% .$id
entidades$avance <- as.numeric(gsub("%", "", entidades$avance))
compromisos <- read_csv("data/información-general-compromisos-Grid view.csv")[-1]
compromisos <- Filter(function(x) !all(is.na(x)), compromisos)
dic_com <- data_frame(label_original = names(compromisos))
dic_com <- dic_com %>% left_join(dic_all)
names(compromisos) <- dic_com %>% .$id
dd <- compromisos %>% left_join(entidades)
View(dd)
dd$avance[is.na(dd$avance)] <- 0
df_1 <- data.frame(name = "Porcentaje total de cumplimiento del Plan",b = "aaa jas", porcentaje = mean(compromisos$avance, na.rm = TRUE))
df_2 <- data.frame(name = "Porcentaje que falta para el cumplimiento total del Plan",b = "aaa jas",  porcentaje =  100 - mean(compromisos$avance, na.rm = TRUE))
df <- df_1 %>% bind_rows(df_2)
df$name <- as.character(df$name)
df$b <- as.character(df$b)
h1 <- hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE)
library(tidyverse)
dic_all <- read_csv("data/dic-Grid view.csv")[,-4]
# Entidades ---------------------------------------------------------------
entidades <- read_csv("data/formulario-entidades-Grid view.csv")
entidades <- entidades %>% drop_na(`Entidad responsable de registrar el avance`)
entidades <- Filter(function(x) !all(is.na(x)), entidades)
dic_entidades <- data_frame(label_original = names(entidades))
dic_entidades <- dic_entidades %>% left_join(dic_all)
names(entidades) <- dic_entidades %>% .$id
entidades$avance <- as.numeric(gsub("%", "", entidades$avance))
dd <- compromisos %>% left_join(entidades)
compromisos <- read_csv("data/información-general-compromisos-Grid view.csv")[-1]
compromisos <- Filter(function(x) !all(is.na(x)), compromisos)
dic_com <- data_frame(label_original = names(compromisos))
dic_com <- dic_com %>% left_join(dic_all)
names(compromisos) <- dic_com %>% .$id
dd <- compromisos %>% left_join(entidades)
df_1 <- data.frame(name = "Porcentaje total de cumplimiento del Plan",b = "aaa jas", porcentaje = mean(dd$avance, na.rm = TRUE))
df_2 <- data.frame(name = "Porcentaje que falta para el cumplimiento total del Plan",b = "aaa jas",  porcentaje =  100 - mean(dd$avance, na.rm = TRUE))
df <- df_1 %>% bind_rows(df_2)
df$name <- as.character(df$name)
df$b <- as.character(df$b)
h1 <- hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE)
h1
htmlwidgets::saveWidget(h1, "porcentaje_cumplimiento.html", background = "transparent")
df_c <- dd %>% group_by(compromiso) %>% summarise(promedio = mean(avance, na.rm = TRUE))
View(df_c)
View(dd)
dd <- compromisos %>% full_join(entidades)
dd$avance[is.na(dd$avance)] <- 0
df_1 <- data.frame(name = "Porcentaje total de cumplimiento del Plan",b = "aaa jas", porcentaje = mean(dd$avance, na.rm = TRUE))
df_2 <- data.frame(name = "Porcentaje que falta para el cumplimiento total del Plan",b = "aaa jas",  porcentaje =  100 - mean(dd$avance, na.rm = TRUE))
df <- df_1 %>% bind_rows(df_2)
df$name <- as.character(df$name)
df$b <- as.character(df$b)
h1 <- hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE)
h1
htmlwidgets::saveWidget(h1, "porcentaje_cumplimiento.html", background = "transparent")
df_c <- dd %>% group_by(compromiso) %>% summarise(promedio = mean(avance, na.rm = TRUE))
View(df_c)
hgch_bar_CatNum(df_c)
hgch_bar_CatNum(df_c, label_wrap = 100)
hgch_bar_CatNum(df_c, label_wrap = 100, orientation = "hor")
hgch_bar_CatNum(df_c,
label_wrap = 100,
orientation = "hor",
order = unique(compromisos$compromiso))
hgch_bar_CatNum(df_c,
label_wrap = 100,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
palette_colors = "#78dda0",
tooltip = "Avance del compromiso: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 150,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
palette_colors = "#78dda0",
tooltip = "Avance del compromiso: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 150,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
palette_colors = "#0076b7",
tooltip = "Avance del compromiso: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 150,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
palette_colors = "#ff4e17",
tooltip = "Avance del compromiso: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 150,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
palette_colors = "#0076b7",
tooltip = "Avance del compromiso: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 150,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
format_sample_num = "1,234.",
palette_colors = "#0076b7",
tooltip = "Avance del compromiso: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 150,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
format_sample_num = "1,234.",
palette_colors = "#0076b7",
tooltip = "{compromiso} <br/>Avance: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 100,
orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
format_sample_num = "1,234.",
palette_colors = "#0076b7",
tooltip = "{compromiso} <br/>Avance: {promedio}%",
background_color = "transparent")
hgch_bar_CatNum(df_c,
label_wrap = 100,
#orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
format_sample_num = "1,234.",
palette_colors = "#0076b7",
tooltip = "{compromiso} <br/>Avance: {promedio}%",
background_color = "transparent")
dd <- compromisos %>% full_join(entidades)
dd$avance[is.na(dd$avance)] <- 0
df_1 <- data.frame(name = "Porcentaje total de cumplimiento del Plan",b = "aaa jas", porcentaje = mean(dd$avance, na.rm = TRUE))
df_2 <- data.frame(name = "Porcentaje que falta para el cumplimiento total del Plan",b = "aaa jas",  porcentaje =  100 - mean(dd$avance, na.rm = TRUE))
df <- df_1 %>% bind_rows(df_2)
df$name <- as.character(df$name)
df$b <- as.character(df$b)
h1 <- hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE)
h1
htmlwidgets::saveWidget(h1, "porcentaje_cumplimiento.html", background = "transparent")
df_c <- dd %>% group_by(compromiso) %>% summarise(promedio = mean(avance, na.rm = TRUE))
h2 <- hgch_bar_CatNum(df_c,
label_wrap = 100,
#orientation = "hor",
order = unique(compromisos$compromiso),
suffix = "%",
hor_title = " ",
ver_title = " ",
format_sample_num = "1,234.",
palette_colors = "#0076b7",
tooltip = "{compromiso} <br/>Avance: {promedio}%",
background_color = "transparent")
h2
htmlwidgets::saveWidget(h2, "compromisos_cumplimiento.html", background = "transparent")
hgch_theme()
hgch_theme
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(plotAreaHeight= 200)
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(plotAreaHeight= 100)
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(plotAreaHeight= 50)
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(list(plotAreaHeight= 50))
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(height = 50)
h1 <- hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(height = 50)
h1
htmlwidgets::saveWidget(h1, "porcentaje_cumplimiento.html", background = "transparent")
hgch_bar_CatCatNum(df,
orientation = "hor",
graph_type = "stacked",
y_max = 100,
suffix = "%",
hor_title = " ",
ver_title = " ",
dataLabels_show = TRUE,
grid_y_enabled = FALSE,
grid_x_enabled = FALSE,
palette_colors = c("#ff7f00", "#fdd60e"),
tooltip = "{name}: {porcentaje}%",
background_color = "transparent",
legend_show = FALSE) %>%
hc_chart(height = 150)
#https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades
library(httr)
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
url <- "https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades"
a <- GET(url, add_headers("token-auth" = key)).
a <- GET(url, add_headers("token-auth" = key))
a
a$headers
a <- GET(url, add_headers("token-auth" = key, "Header" = "xc-auth"))
a <- GET(url, add_headers("token-auth" = key, Header = "xc-auth"))
a
a$content
a$headers
a$request
sessionInfo()
a$all_headers
a$headers
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
url <- "https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades"
a <- GET(url, add_headers("token-auth" = key, Header = "xc-auth"))
a$request
a$all_headers
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
url <- "https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades"
a <- GET(url, add_headers("token-auth" = key))
a$request
a$all_headers
?upload_file
upload_file(url)
a <- GET(url, add_headers("token-auth" = key, Header = "xc-auth"))
str(content(a))
http_status(a)
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
url <- "https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades"
a <- GET(url, add_headers("token-auth" = key))
http_status(a)
#Entidades
sys.setenv(xc-auth = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww")
#Entidades
sys.setenv(`xc-auth` = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww")
#Entidades
Sys.setenv(`xc-auth` = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww")
Sys.getenv()
usethis::edit_r_environ()
Sys.getenv()
Sys.getenv()
a <- GET(url, add_headers("token-auth" = `xc-auth`))
#https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades
library(httr)
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
url <- "https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades"
a <- GET(url, add_headers("token-auth" = `xc-auth`))
a <- GET(url, add_headers("token-auth" = key, Header = "xc-auth"))
http_status(a)
a <- GET(url, add_headers(Header = "xc-auth"))
http_status(a)
a <- GET(url
)
http_status(a)
Sys.getlocale()
Sys.getenv()
Sys.getenv()
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
a <- GET(url, add_headers(`xc-auth` = key))
a <- GET(url, add_headers(`xc-auth` = key))
#Entidades
#Sys.setenv(`xc-auth` = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww")
#https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades
library(httr)
key <- "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhdmlkQGRhdGFza2V0Y2guY28iLCJmaXJzdG5hbWUiOm51bGwsImxhc3RuYW1lIjpudWxsLCJpZCI6MSwicm9sZXMiOiJ1c2VyIiwiaWF0IjoxNjM4NDU5NzI3fQ.O4NjFZowlheo-aVpEdYpB3Xvmrkm-olLdJh-y5O33Ww"
url <- "https://datos.paga.datasketch.co/nc/registro_de_avances_gzwk/api/v1/entidades"
a <- GET(url, add_headers(`xc-auth` = key))
http_status(a)
str(content(a))
